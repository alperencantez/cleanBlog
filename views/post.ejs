<%- include("partials/_header.ejs") %>
    <!-- Page Header -->
    <header class="masthead" style="background-image: url('img/post-bg.jpg')">
      <div class="overlay"></div>
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-md-10 mx-auto">
            <div class="post-heading">
              <h1><%= post[0].title %></h1>
              
              <span class="meta"
                >Posted by
                <a href="#">Start Bootstrap</a>
                on <%= post[0].dateCreated.toString().slice(0, 21) %></span
              >

              <div class="my-3">
                <button class="btn btn-primary" onclick="showTextBox()">Update</button>
                <form action="/post/<%= post[0]._id %>?_method=DELETE" method="post" style="display: inline;">
                  <button class="btn btn-danger">Delete</button>
                </form>

                <form method="POST" action="/post/<%= post[0]._id %>?_method=PUT" class="mt-2">
                  <textarea name="updatedText" id="updatedText" cols="50" rows="5" style="display: none;"></textarea>
                  <button class="btn btn-success mt-2" id="btnUpdate" style="display: none;">Update Blog Post</button>
                </form>
              </div>

              
            </div>
          </div>
        </div>

        
      </div>
    </header>

    <!-- Post Content -->
    <article>
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-md-10 mx-auto">
            <%= post[0].detail %>
          </div>
        </div>
      </div>
    </article>

    <hr />

    <!-- Footer -->
    <%- include("partials/_footer.ejs") %>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Custom scripts for this template -->
    <script src="js/clean-blog.min.js"></script>
    <script>
      function showTextBox() {
        const textBox = document.querySelector("#updatedText");
        const updateBtn = document.querySelector("#btnUpdate");

        textBox.style.display = "block";
        updateBtn.style.display = "inline";
      }
    </script>
  </body>
</html>
